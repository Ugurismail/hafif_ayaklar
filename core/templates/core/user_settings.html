<!-- templates/core/user_settings.html -->

{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2>Renk AyarlarÄ±</h2>
    <form method="post">
        {% csrf_token %}

        <div class="mb-3">
            <label for="theme_select" class="form-label">HazÄ±r Tema:</label>
	            <select id="theme_select" class="form-select">
	                <option value="">-- Tema SeÃ§in --</option>
	                <option value="default">VarsayÄ±lan</option>
	                <option value="gece">Gece Modu</option>
	                <option value="ocean">Ocean Breeze (Okyanus Mavisi)</option>
	                <option value="forest">Forest Zen (Orman YeÅŸili)</option>
	                <option value="sunset">Sunset Vibes (GÃ¼n BatÄ±mÄ±)</option>
	                <option value="monochrome">Monochrome (Minimal Siyah-Beyaz)</option>
	                <option value="lavender">Lavanta BahÃ§esi (Mor & Lila)</option>
	                <option value="coffee">Kahve MolasÄ± (SÄ±cak Kahverengi)</option>
	                <option value="cyberpunk">Cyberpunk (Neon Futuristik)</option>
	                <option value="sakura">Sakura (Japon Kiraz Ã‡iÃ§eÄŸi)</option>
	                <option value="nordic">Nordic (Ä°skandinav Minimalist)</option>
	                <option value="old_money">Old Money</option>
	                <option value="the_porcelain">The Porcelain (Modern Minimal)</option>
	                <option value="the_man">The Man</option>
	                <option value="the_woman">The Woman</option>
	                <option value="the_2slgbtq_plus">The 2SLGBTQ+</option>
	                <option value="the_philosopher">The Philosopher</option>
	                <option value="the_artist">The Artist</option>
	                <option value="the_sapiens">The Sapiens</option>
		                <option value="the_animal">The Animal</option>
		                <option value="the_plant">The Plant</option>
		                <option value="the_pastel">The Pastel</option>
		                <option value="the_darkness">The Darkness</option>
		                <option value="the_last">The Last</option>
		                <option value="harpci">The Warrior</option>
		                <option value="ruhban">The Cleric</option>
		            </select>
		        </div>
        
        <!-- Genel Renkler -->
        <div class="card p-3 mb-3 cemil">
            <h4>Genel Renkler</h4>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="background_color" class="form-label">Arka Plan Rengi:</label>
                    <input type="color" id="background_color" name="background_color" class="form-control form-control-color" value="{{ user_profile.background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="text_color" class="form-label">Genel Metin ve SÄ±nÄ±r Rengi:</label>
                    <input type="color" id="text_color" name="text_color" class="form-control form-control-color" value="{{ user_profile.text_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="message_bubble_color" class="form-label">Mesaj Baloncuk Rengi</label>
                    <input type="color" id="message_bubble_color" name="message_bubble_color" class="form-control form-control-color" value="{{ user_profile.message_bubble_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="yanit_card" class="form-label">YanÄ±t KartÄ± Arka Plan Rengi</label>
                    <input type="color" id="yanit_card" name="yanit_card" class="form-control form-control-color" value="{{ user_profile.yanit_card|default:'#ffffff' }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="tbas_color" class="form-label">Sol BaÅŸlÄ±klarÄ±n Rengi</label>
                    <input type="color" id="tbas_color" name="tbas_color" class="form-control form-control-color" value="{{ user_profile.tbas_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="link_color" class="form-label">Link Rengi:</label>
                    <input type="color" id="link_color" name="link_color" class="form-control form-control-color" value="{{ user_profile.link_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="link_hover_color" class="form-label">Link Hover Rengi:</label>
                    <input type="color" id="link_hover_color" name="link_hover_color" class="form-control form-control-color" value="{{ user_profile.link_hover_color }}">
                </div>
            </div>
        </div>



        <!-- Navbar Renkleri -->
        <div class="card p-3 mb-3 cemil">
            <h4>Navbar Renkleri</h4>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="header_background_color" class="form-label">Navbar Arka Plan Rengi:</label>
                    <input type="color" id="header_background_color" name="header_background_color" class="form-control form-control-color" value="{{ user_profile.header_background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="header_text_color" class="form-label">Navbar Metin Rengi:</label>
                    <input type="color" id="header_text_color" name="header_text_color" class="form-control form-control-color" value="{{ user_profile.header_text_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="nav_link_hover_color" class="form-label">Navbar Link Hover Rengi:</label>
                    <input type="color" id="nav_link_hover_color" name="nav_link_hover_color" class="form-control form-control-color" value="{{ user_profile.nav_link_hover_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="nav_link_hover_bg" class="form-label">Navbar Link Hover Arka Plan Rengi:</label>
                    <input type="color" id="nav_link_hover_bg" name="nav_link_hover_bg" class="form-control form-control-color" value="{{ user_profile.nav_link_hover_bg }}">
                </div>
            </div>
        </div>


        <!-- Buton Renkleri -->
        <div class="card p-3 mb-3 cemil">
            <h4>TuÅŸ Renkleri</h4>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="button_background_color" class="form-label">Mavi Buton Arka Plan Rengi:</label>
                    <input type="color" id="button_background_color" name="button_background_color" class="form-control form-control-color" value="{{ user_profile.button_background_color }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label for="button_hover_background_color" class="form-label">Mavi Buton Hover Arka Plan Rengi:</label>
                    <input type="color" id="button_hover_background_color" name="button_hover_background_color" class="form-control form-control-color" value="{{ user_profile.button_hover_background_color }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label for="button_text_color" class="form-label">Mavi Buton Metin Rengi:</label>
                    <input type="color" id="button_text_color" name="button_text_color" class="form-control form-control-color" value="{{ user_profile.button_text_color }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label for="secondary_button_background_color" class="form-label">Gri Buton Arka Plan Rengi:</label>
                    <input type="color" id="secondary_button_background_color" name="secondary_button_background_color" class="form-control form-control-color" value="{{ user_profile.secondary_button_background_color }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label for="secondary_button_hover_background_color" class="form-label">Gri Buton Hover Arka Plan Rengi:</label>
                    <input type="color" id="secondary_button_hover_background_color" name="secondary_button_hover_background_color" class="form-control form-control-color" value="{{ user_profile.secondary_button_hover_background_color }}">
                </div>
                <div class="col-md-4 mb-3">
                    <label for="secondary_button_text_color" class="form-label">Gri Buton Metin Rengi:</label>
                    <input type="color" id="secondary_button_text_color" name="secondary_button_text_color" class="form-control form-control-color" value="{{ user_profile.secondary_button_text_color }}">
                </div>
            </div>
        </div>


        <!-- Sekme Renkleri -->
        <div class="card p-3 mb-3 cemil">
            <h4>Sekme Renkleri</h4>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="tab_background_color" class="form-label">Sekme Arka Plan Rengi:</label>
                    <input type="color" id="tab_background_color" name="tab_background_color" class="form-control form-control-color" value="{{ user_profile.tab_background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="tab_text_color" class="form-label">Sekme Metin Rengi:</label>
                    <input type="color" id="tab_text_color" name="tab_text_color" class="form-control form-control-color" value="{{ user_profile.tab_text_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="tab_active_background_color" class="form-label">Aktif Sekme Arka Plan Rengi:</label>
                    <input type="color" id="tab_active_background_color" name="tab_active_background_color" class="form-control form-control-color" value="{{ user_profile.tab_active_background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="tab_active_text_color" class="form-label">Aktif Sekme Metin Rengi:</label>
                    <input type="color" id="tab_active_text_color" name="tab_active_text_color" class="form-control form-control-color" value="{{ user_profile.tab_active_text_color }}">
                </div>
            </div>
        </div>


        <!-- Sayfalama Renkleri -->
        <div class="card p-3 mb-3 cemil">
            <h4>Sayfa GÃ¶stergesi Renkleri</h4>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="pagination_background_color" class="form-label">Sayfalama Arka Plan Rengi:</label>
                    <input type="color" id="pagination_background_color" name="pagination_background_color" class="form-control form-control-color" value="{{ user_profile.pagination_background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="pagination_text_color" class="form-label">Sayfalama Metin Rengi:</label>
                    <input type="color" id="pagination_text_color" name="pagination_text_color" class="form-control form-control-color" value="{{ user_profile.pagination_text_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="icon_color" class="form-label">Ä°kon Rengi:</label>
                    <input type="color" id="icon_color" name="icon_color" class="form-control form-control-color" value="{{ user_profile.icon_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="answer_background_color" class="form-label">YanÄ±t Kart Arka Plan Rengi:</label>
                    <input type="color" id="answer_background_color" name="answer_background_color" class="form-control form-control-color" value="{{ user_profile.answer_background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="hover_text_color" class="form-label">Hover Metin Rengi:</label>
                    <input type="color" id="hover_text_color" name="hover_text_color" class="form-control form-control-color" value="{{ user_profile.hover_text_color }}">
                </div>
                <!-- <div class="col-md-3 mb-3">
                    <label for="pagination_active_background_color" class="form-label">Aktif Sayfalama Arka Plan Rengi:</label>
                    <input type="color" id="pagination_active_background_color" name="pagination_active_background_color" class="form-control form-control-color" value="{{ user_profile.pagination_active_background_color }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="pagination_active_text_color" class="form-label">Aktif Sayfalama Metin Rengi:</label>
                    <input type="color" id="pagination_active_text_color" name="pagination_active_text_color" class="form-control form-control-color" value="{{ user_profile.pagination_active_text_color }}">
                </div> -->
            </div>

            <!-- Ek Renkler -->
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="icon_hover_color" class="form-label">Ä°kon Hover Rengi:</label>
                    <input type="color" id="icon_hover_color" name="icon_hover_color" class="form-control form-control-color" value="{{ user_profile.icon_hover_color|default:'#007bff' }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="content_background_color" class="form-label">Ä°Ã§erik Arka Plan Rengi:</label>
                    <input type="color" id="content_background_color" name="content_background_color" class="form-control form-control-color" value="{{ user_profile.content_background_color|default:'#ffffff' }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="hover_background_color" class="form-label">Hover Arka Plan Rengi:</label>
                    <input type="color" id="hover_background_color" name="hover_background_color" class="form-control form-control-color" value="{{ user_profile.hover_background_color|default:'#f0f0f0' }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="dropdown_text_color" class="form-label">Dropdown Metin Rengi:</label>
                    <input type="color" id="dropdown_text_color" name="dropdown_text_color" class="form-control form-control-color" value="{{ user_profile.dropdown_text_color|default:'#333333' }}">
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="dropdown_hover_background_color" class="form-label">Dropdown Hover Arka Plan:</label>
                    <input type="color" id="dropdown_hover_background_color" name="dropdown_hover_background_color" class="form-control form-control-color" value="{{ user_profile.dropdown_hover_background_color|default:'#f2f2f2' }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="dropdown_hover_text_color" class="form-label">Dropdown Hover Metin:</label>
                    <input type="color" id="dropdown_hover_text_color" name="dropdown_hover_text_color" class="form-control form-control-color" value="{{ user_profile.dropdown_hover_text_color|default:'#0056b3' }}">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-4 mb-3">
                <label for="font_family" class="form-label">YazÄ± Tipi:</label>
                <select name="font_family" id="font_family" class="form-select">
                    <!-- Serif Fontlar (Klasik, okunabilir) - TÃ¼rkÃ§e karakter desteÄŸi olan -->
                    <optgroup label="ðŸ“– Serif (Klasik Okuma FontlarÄ±)">
                        <option value="EB+Garamond"     {% if user_profile.font_family == "EB+Garamond" %}selected{% endif %}>EB Garamond (VarsayÄ±lan)</option>
                        <option value="Merriweather"    {% if user_profile.font_family == "Merriweather" %}selected{% endif %}>Merriweather</option>
                        <option value="Georgia"         {% if user_profile.font_family == "Georgia" %}selected{% endif %}>Georgia</option>
                        <option value="Times+New+Roman" {% if user_profile.font_family == "Times+New+Roman" %}selected{% endif %}>Times New Roman</option>
                        <option value="Book+Antiqua"    {% if user_profile.font_family == "Book+Antiqua" %}selected{% endif %}>Book Antiqua</option>
                        <option value="Cormorant+Garamond" {% if user_profile.font_family == "Cormorant+Garamond" %}selected{% endif %}>Cormorant Garamond</option>
                        <option value="Crimson+Text"    {% if user_profile.font_family == "Crimson+Text" %}selected{% endif %}>Crimson Text</option>
                        <option value="Crimson+Pro"     {% if user_profile.font_family == "Crimson+Pro" %}selected{% endif %}>Crimson Pro</option>
                        <option value="Lora"            {% if user_profile.font_family == "Lora" %}selected{% endif %}>Lora</option>
                        <option value="Libre+Baskerville" {% if user_profile.font_family == "Libre+Baskerville" %}selected{% endif %}>Libre Baskerville</option>
                        <option value="Noto+Serif"      {% if user_profile.font_family == "Noto+Serif" %}selected{% endif %}>Noto Serif (TÃ¼rkÃ§e MÃ¼kemmel)</option>
                        <option value="PT+Serif"        {% if user_profile.font_family == "PT+Serif" %}selected{% endif %}>PT Serif</option>
                        <option value="Source+Serif+4"  {% if user_profile.font_family == "Source+Serif+4" %}selected{% endif %}>Source Serif 4</option>
                        <option value="Spectral"        {% if user_profile.font_family == "Spectral" %}selected{% endif %}>Spectral</option>
                        <option value="Cardo"           {% if user_profile.font_family == "Cardo" %}selected{% endif %}>Cardo</option>
                        <option value="Vollkorn"        {% if user_profile.font_family == "Vollkorn" %}selected{% endif %}>Vollkorn</option>
                    </optgroup>

                    <!-- El YazÄ±sÄ± / Script Fontlar -->
                    <optgroup label="âœï¸ El YazÄ±sÄ± (Handwriting)">
                        <option value="Caveat"          {% if user_profile.font_family == "Caveat" %}selected{% endif %}>Caveat</option>
                        <option value="Patrick+Hand"    {% if user_profile.font_family == "Patrick+Hand" %}selected{% endif %}>Patrick Hand</option>
                        <option value="Indie+Flower"    {% if user_profile.font_family == "Indie+Flower" %}selected{% endif %}>Indie Flower</option>
                        <option value="Dancing+Script"  {% if user_profile.font_family == "Dancing+Script" %}selected{% endif %}>Dancing Script</option>
                        <option value="Pacifico"        {% if user_profile.font_family == "Pacifico" %}selected{% endif %}>Pacifico</option>
                        <option value="Kalam"           {% if user_profile.font_family == "Kalam" %}selected{% endif %}>Kalam</option>
                        <option value="Shadows+Into+Light" {% if user_profile.font_family == "Shadows+Into+Light" %}selected{% endif %}>Shadows Into Light</option>
                        <option value="Amatic+SC"       {% if user_profile.font_family == "Amatic+SC" %}selected{% endif %}>Amatic SC</option>
                        <option value="Gloria+Hallelujah" {% if user_profile.font_family == "Gloria+Hallelujah" %}selected{% endif %}>Gloria Hallelujah</option>
                        <option value="Permanent+Marker" {% if user_profile.font_family == "Permanent+Marker" %}selected{% endif %}>Permanent Marker</option>
                        <option value="Sacramento"      {% if user_profile.font_family == "Sacramento" %}selected{% endif %}>Sacramento</option>
                        <option value="Great+Vibes"     {% if user_profile.font_family == "Great+Vibes" %}selected{% endif %}>Great Vibes</option>
                        <option value="Satisfy"         {% if user_profile.font_family == "Satisfy" %}selected{% endif %}>Satisfy</option>
                        <option value="Handlee"         {% if user_profile.font_family == "Handlee" %}selected{% endif %}>Handlee</option>
                    </optgroup>

                    <!-- Sans-serif Fontlar (Modern, temiz) -->
                    <optgroup label="âœ¨ Sans-serif (Modern & Temiz)">
                        <option value="Inter"           {% if user_profile.font_family == "Inter" %}selected{% endif %}>Inter</option>
                        <option value="Roboto"          {% if user_profile.font_family == "Roboto" %}selected{% endif %}>Roboto</option>
                        <option value="Open+Sans"       {% if user_profile.font_family == "Open+Sans" %}selected{% endif %}>Open Sans</option>
                        <option value="Noto+Sans"       {% if user_profile.font_family == "Noto+Sans" %}selected{% endif %}>Noto Sans (TÃ¼rkÃ§e MÃ¼kemmel)</option>
                        <option value="Montserrat"      {% if user_profile.font_family == "Montserrat" %}selected{% endif %}>Montserrat</option>
                        <option value="Source+Sans+3"   {% if user_profile.font_family == "Source+Sans+3" %}selected{% endif %}>Source Sans 3</option>
                        <option value="Work+Sans"       {% if user_profile.font_family == "Work+Sans" %}selected{% endif %}>Work Sans</option>
                        <option value="Nunito"          {% if user_profile.font_family == "Nunito" %}selected{% endif %}>Nunito</option>
                        <option value="Poppins"         {% if user_profile.font_family == "Poppins" %}selected{% endif %}>Poppins</option>
                        <option value="Rubik"           {% if user_profile.font_family == "Rubik" %}selected{% endif %}>Rubik</option>
                        <option value="DM+Sans"         {% if user_profile.font_family == "DM+Sans" %}selected{% endif %}>DM Sans</option>
                        <option value="Quicksand"       {% if user_profile.font_family == "Quicksand" %}selected{% endif %}>Quicksand</option>
                        <option value="Karla"           {% if user_profile.font_family == "Karla" %}selected{% endif %}>Karla</option>
                        <option value="Lato"            {% if user_profile.font_family == "Lato" %}selected{% endif %}>Lato</option>
                    </optgroup>

                    <!-- Display/Dekoratif Fontlar -->
                    <optgroup label="ðŸŽ¨ Display (BaÅŸlÄ±k Ä°Ã§in)">
                        <option value="Playfair+Display" {% if user_profile.font_family == "Playfair+Display" %}selected{% endif %}>Playfair Display</option>
                        <option value="Oswald"          {% if user_profile.font_family == "Oswald" %}selected{% endif %}>Oswald</option>
                        <option value="Raleway"         {% if user_profile.font_family == "Raleway" %}selected{% endif %}>Raleway</option>
                        <option value="Bebas+Neue"      {% if user_profile.font_family == "Bebas+Neue" %}selected{% endif %}>Bebas Neue</option>
                        <option value="Archivo+Black"   {% if user_profile.font_family == "Archivo+Black" %}selected{% endif %}>Archivo Black</option>
                        <option value="Righteous"       {% if user_profile.font_family == "Righteous" %}selected{% endif %}>Righteous</option>
                    </optgroup>

                    <!-- Monospace Fontlar (Kod iÃ§in) -->
                    <optgroup label="ðŸ’» Monospace (Kod Tipi)">
                        <option value="Fira+Code"       {% if user_profile.font_family == "Fira+Code" %}selected{% endif %}>Fira Code</option>
                        <option value="JetBrains+Mono"  {% if user_profile.font_family == "JetBrains+Mono" %}selected{% endif %}>JetBrains Mono</option>
                        <option value="Source+Code+Pro" {% if user_profile.font_family == "Source+Code+Pro" %}selected{% endif %}>Source Code Pro</option>
                        <option value="Courier+New"     {% if user_profile.font_family == "Courier+New" %}selected{% endif %}>Courier New</option>
                    </optgroup>
                </select>
            </div>
            <div class="col-2 mb-3">
                <label for="font_family" class="form-label">YazÄ± Boyutu:</label>
                <input type="number" name="font_size" min="16" max="100" id="font_size" class="form-control form-control-color" value="{{ user_profile.font_size }}">
            </div>
        </div>
        <!-- Kaydet ve VarsayÄ±lanlara DÃ¶n ButonlarÄ± -->
        <div class="col-md-12 mb-3">
            <button type="submit" class="btn btn-theme-primary">Kaydet</button>
            <button type="submit" name="reset" value="true" class="btn btn-theme-secondary">VarsayÄ±lanlara DÃ¶n</button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    const SYSTEM_FONTS = new Set([
        'Georgia',
        'Times+New+Roman',
        'Book+Antiqua',
        'Courier+New',
        'Comic+Sans+MS',
        'Arial',
        'Verdana',
        'Helvetica',
    ]);

	    function updateColor(variable, value) {
	        document.documentElement.style.setProperty(variable, value);
	    }

	    function ensurePreviewFontLoaded(fontFamily) {
	        if (!fontFamily) return;
	        const fontValue = String(fontFamily).trim();

	        const existingLink = document.getElementById('dynamicGoogleFont');
	        if (SYSTEM_FONTS.has(fontValue)) {
	            if (existingLink) existingLink.remove();
	            return;
	        }

	        const familyParam = fontValue.replace(/\s+/g, '+');
	        const href = `https://fonts.googleapis.com/css2?family=${familyParam}&display=swap`;

	        const link = existingLink || (() => {
	            const el = document.createElement('link');
	            el.id = 'dynamicGoogleFont';
	            el.rel = 'stylesheet';
	            document.head.appendChild(el);
	            return el;
	        })();

	        if (link.getAttribute('href') !== href) {
	            link.setAttribute('href', href);
	        }
	    }

	    function normalizeCssVarValue(key, value) {
	        if (key === 'font_size') return `${parseInt(value, 10) || 16}px`;
	        if (key === 'font_family') return `"${String(value).replace(/\+/g, ' ')}"`;
	        return value;
	    }

    function toCssVarName(key) {
        // Settings form uses model field names; CSS vars don't always match 1:1.
        if (key === 'message_bubble_color') return '--message-bubble';
        if (key === 'yanit_card') return '--yanit-card-background-color';
        if (key === 'font_family') return '--body-font-family';
        return '--' + key.replace(/_/g, '-');
    }

	    document.addEventListener('DOMContentLoaded', function() {
	        const previewInputs = document.querySelectorAll('input[type="color"], input[type="number"], select[name="font_family"]');
	        const fontSelect = document.querySelector('select[name="font_family"]');
	        if (fontSelect) ensurePreviewFontLoaded(fontSelect.value);

	        previewInputs.forEach(function(input) {
	            input.addEventListener('input', function() {
	                const varName = toCssVarName(this.name);
	                updateColor(varName, normalizeCssVarValue(this.name, this.value));
	                if (this.name === 'font_family') {
	                    ensurePreviewFontLoaded(this.value);
	                }
	            });
	        });
	    });
</script>
<script>
    // TEMALAR BURADA TANIMLI (Sadece 6 kaliteli tema)
    const THEMES = {
        "default": {
            "background_color": "#F5F5F5",
            "text_color": "#000000",
            "header_background_color": "#F5F5F5",
            "header_text_color": "#333333",
            "link_color": "#6E8CA7",
            "link_hover_color": "#4E647E",
            "button_background_color": "#6E8CA7",
            "button_hover_background_color": "#4E647E",
            "button_text_color": "#ffffff",
            "secondary_button_background_color": "#6c757d",
            "secondary_button_hover_background_color": "#495057",
            "secondary_button_text_color": "#ffffff",
            "message_bubble_color": "#d1e7ff",
            "tbas_color": "#000000",
            "font_size": "16",
            "hover_background_color": "#f0f0f0",
            "hover_text_color": "#000000",
            "icon_color": "#333333",
            "icon_hover_color": "#007bff",
            "answer_background_color": "#F5F5F5",
            "content_background_color": "#ffffff",
            "tab_background_color": "#f8f9fa",
            "tab_text_color": "#000000",
            "tab_active_background_color": "#ffffff",
            "tab_active_text_color": "#000000",
            "dropdown_text_color": "#333333",
            "dropdown_hover_background_color": "#f2f2f2",
            "dropdown_hover_text_color": "#0056b3",
            "nav_link_hover_color": "#007bff",
            "nav_link_hover_bg": "#f5f5f5",
            "pagination_background_color": "#ffffff",
            "pagination_text_color": "#000000",
            "font_family": "EB Garamond"
        },
        "gece": {
            "background_color": "#181824",
            "text_color": "#998F8F",
            "header_background_color": "#232536",
            "header_text_color": "#e5e5e5",
            "link_color": "#8ab4f8",
            "link_hover_color": "#bbdefb",
            "button_background_color": "#27293d",
            "button_hover_background_color": "#3b3e5b",
            "button_text_color": "#e5e5e5",
            "secondary_button_background_color": "#44475a",
            "secondary_button_hover_background_color": "#6272a4",
            "secondary_button_text_color": "#fff",
            "message_bubble_color": "#B7BADC",
            "tbas_color": "#e5e5e5",
            "font_size": "17",
            "hover_background_color": "#21243a",
            "hover_text_color": "#e5e5e5",
            "icon_color": "#8ab4f8",
            "icon_hover_color": "#ffffff",
            "answer_background_color": "#181824",
            "content_background_color": "#232536",
            "tab_background_color": "#21243a",
            "tab_text_color": "#e5e5e5",
            "tab_active_background_color": "#2c2e49",
            "tab_active_text_color": "#8ab4f8",
            "dropdown_text_color": "#e5e5e5",
            "dropdown_hover_background_color": "#383a59",
            "dropdown_hover_text_color": "#8ab4f8",
            "nav_link_hover_color": "#8ab4f8",
            "nav_link_hover_bg": "#232536",
            "pagination_background_color": "#21243a",
            "pagination_text_color": "#e5e5e5",
            "font_family": "Roboto"
        },
        "ocean": {
    "background_color": "#E8F4F8",
    "text_color": "#1A3E4C",
    "header_background_color": "#0077BE",
    "header_text_color": "#FFFFFF",
    "link_color": "#00A8E8",
    "link_hover_color": "#007EA7",
    "button_background_color": "#00A8E8",
    "button_hover_background_color": "#007EA7",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#48CAE4",
    "secondary_button_hover_background_color": "#00B4D8",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#CAF0F8",
    "tbas_color": "#023E8A",
    "font_size": "17",
    "hover_background_color": "#D4E9F2",
    "hover_text_color": "#023E8A",
    "icon_color": "#0096C7",
    "icon_hover_color": "#023E8A",
    "answer_background_color": "#F0F8FF",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#ADE8F4",
    "tab_text_color": "#023E8A",
    "tab_active_background_color": "#90E0EF",
    "tab_active_text_color": "#03045E",
    "dropdown_text_color": "#1A3E4C",
    "dropdown_hover_background_color": "#90E0EF",
    "dropdown_hover_text_color": "#023E8A",
    "nav_link_hover_color": "#FFFFFF",
	    "nav_link_hover_bg": "#005F8F",
	    "pagination_background_color": "#CAF0F8",
	    "pagination_text_color": "#023E8A",
	    "font_family": "Open+Sans"
	},
        "sunset": {
    "background_color": "#FFF5F0",
    "text_color": "#2D1B4E",
    "header_background_color": "#FF6B6B",
    "header_text_color": "#FFFFFF",
    "link_color": "#FF8C42",
    "link_hover_color": "#D45D79",
    "button_background_color": "#FF6B6B",
    "button_hover_background_color": "#EE4540",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#FFA384",
    "secondary_button_hover_background_color": "#FF8C42",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#FFD7D7",
    "tbas_color": "#A64253",
    "font_size": "17",
    "hover_background_color": "#FFEAEA",
    "hover_text_color": "#2D1B4E",
    "icon_color": "#FF8C42",
    "icon_hover_color": "#9B4F96",
    "answer_background_color": "#FFFBF5",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#FFDAB9",
    "tab_text_color": "#2D1B4E",
    "tab_active_background_color": "#FFBFA9",
    "tab_active_text_color": "#A64253",
    "dropdown_text_color": "#2D1B4E",
    "dropdown_hover_background_color": "#FFBFA9",
    "dropdown_hover_text_color": "#A64253",
    "nav_link_hover_color": "#FFFFFF",
    "nav_link_hover_bg": "#D45D79",
    "pagination_background_color": "#FFE5D9",
    "pagination_text_color": "#2D1B4E",
    "font_family": "Quicksand"
},
        "forest": {
    "background_color": "#F4F9F4",
    "text_color": "#1B3A2F",
    "header_background_color": "#2D6A4F",
    "header_text_color": "#FFFFFF",
    "link_color": "#52B788",
    "link_hover_color": "#2D6A4F",
    "button_background_color": "#40916C",
    "button_hover_background_color": "#2D6A4F",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#74C69D",
    "secondary_button_hover_background_color": "#52B788",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#D8F3DC",
    "tbas_color": "#1B4332",
    "font_size": "17",
    "hover_background_color": "#E8F5E9",
    "hover_text_color": "#1B3A2F",
    "icon_color": "#52B788",
    "icon_hover_color": "#2D6A4F",
    "answer_background_color": "#F8FDF8",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#B7E4C7",
    "tab_text_color": "#1B4332",
    "tab_active_background_color": "#95D5B2",
    "tab_active_text_color": "#081C15",
    "dropdown_text_color": "#1B3A2F",
    "dropdown_hover_background_color": "#95D5B2",
    "dropdown_hover_text_color": "#081C15",
    "nav_link_hover_color": "#D8F3DC",
	    "nav_link_hover_bg": "#1B4332",
	    "pagination_background_color": "#D8F3DC",
	    "pagination_text_color": "#1B4332",
	    "font_family": "Work+Sans"
	},
        "monochrome": {
    "background_color": "#FFFFFF",
    "text_color": "#1A1A1A",
    "header_background_color": "#000000",
    "header_text_color": "#FFFFFF",
    "link_color": "#333333",
    "link_hover_color": "#000000",
    "button_background_color": "#2C2C2C",
    "button_hover_background_color": "#000000",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#808080",
    "secondary_button_hover_background_color": "#5A5A5A",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#E8E8E8",
    "tbas_color": "#1A1A1A",
    "font_size": "16",
    "hover_background_color": "#F5F5F5",
    "hover_text_color": "#1A1A1A",
    "icon_color": "#4D4D4D",
    "icon_hover_color": "#000000",
    "answer_background_color": "#FAFAFA",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#E0E0E0",
    "tab_text_color": "#1A1A1A",
    "tab_active_background_color": "#C0C0C0",
    "tab_active_text_color": "#000000",
    "dropdown_text_color": "#1A1A1A",
    "dropdown_hover_background_color": "#E0E0E0",
    "dropdown_hover_text_color": "#000000",
    "nav_link_hover_color": "#FFFFFF",
	    "nav_link_hover_bg": "#2C2C2C",
	    "pagination_background_color": "#E8E8E8",
	    "pagination_text_color": "#1A1A1A",
	    "font_family": "PT+Serif"
	},
        "lavender": {
    "background_color": "#F8F6FB",
    "text_color": "#2C1A4D",
    "header_background_color": "#9D84B7",
    "header_text_color": "#FFFFFF",
    "link_color": "#8B6FB4",
    "link_hover_color": "#6B4C8A",
    "button_background_color": "#A78BCA",
    "button_hover_background_color": "#8B6FB4",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#C5B4E3",
    "secondary_button_hover_background_color": "#A78BCA",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#E8DFF5",
    "tbas_color": "#6B4C8A",
    "font_size": "17",
    "hover_background_color": "#F0EBFF",
    "hover_text_color": "#2C1A4D",
    "icon_color": "#A78BCA",
    "icon_hover_color": "#6B4C8A",
    "answer_background_color": "#FDFCFE",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#E0D5F0",
    "tab_text_color": "#2C1A4D",
    "tab_active_background_color": "#C5B4E3",
    "tab_active_text_color": "#2C1A4D",
    "dropdown_text_color": "#2C1A4D",
    "dropdown_hover_background_color": "#E0D5F0",
    "dropdown_hover_text_color": "#2C1A4D",
    "nav_link_hover_color": "#FFFFFF",
    "nav_link_hover_bg": "#6B4C8A",
    "pagination_background_color": "#E8DFF5",
    "pagination_text_color": "#2C1A4D",
    "font_family": "Raleway"
},
        "coffee": {
    "background_color": "#F9F5F0",
    "text_color": "#3E2723",
    "header_background_color": "#6F4E37",
    "header_text_color": "#FFFFFF",
    "link_color": "#8D6E63",
    "link_hover_color": "#5D4037",
    "button_background_color": "#795548",
    "button_hover_background_color": "#5D4037",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#A1887F",
    "secondary_button_hover_background_color": "#8D6E63",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#EFEBE9",
    "tbas_color": "#4E342E",
    "font_size": "17",
    "hover_background_color": "#FFF8F0",
    "hover_text_color": "#3E2723",
    "icon_color": "#8D6E63",
    "icon_hover_color": "#5D4037",
    "answer_background_color": "#FFFBF5",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#D7CCC8",
    "tab_text_color": "#3E2723",
    "tab_active_background_color": "#BCAAA4",
    "tab_active_text_color": "#3E2723",
    "dropdown_text_color": "#3E2723",
    "dropdown_hover_background_color": "#D7CCC8",
    "dropdown_hover_text_color": "#3E2723",
    "nav_link_hover_color": "#FFF8F0",
    "nav_link_hover_bg": "#5D4037",
    "pagination_background_color": "#EFEBE9",
    "pagination_text_color": "#3E2723",
    "font_family": "Merriweather"
},
        "cyberpunk": {
    "background_color": "#0A0E27",
    "text_color": "#E0E0E0",
    "header_background_color": "#1A1F3A",
    "header_text_color": "#00FFF0",
    "link_color": "#00FFF0",
    "link_hover_color": "#FF2A6D",
    "button_background_color": "#FF2A6D",
    "button_hover_background_color": "#D91656",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#05D9E8",
    "secondary_button_hover_background_color": "#01B4C1",
    "secondary_button_text_color": "#0A0E27",
    "message_bubble_color": "#1E2749",
    "tbas_color": "#00FFF0",
    "font_size": "17",
    "hover_background_color": "#1E2749",
    "hover_text_color": "#00FFF0",
    "icon_color": "#05D9E8",
    "icon_hover_color": "#FF2A6D",
    "answer_background_color": "#0F1233",
    "content_background_color": "#0A0E27",
    "tab_background_color": "#1A1F3A",
    "tab_text_color": "#00FFF0",
    "tab_active_background_color": "#2A2F4A",
    "tab_active_text_color": "#FF2A6D",
    "dropdown_text_color": "#E0E0E0",
    "dropdown_hover_background_color": "#2A2F4A",
    "dropdown_hover_text_color": "#00FFF0",
    "nav_link_hover_color": "#00FFF0",
    "nav_link_hover_bg": "#2A2F4A",
	    "pagination_background_color": "#1E2749",
	    "pagination_text_color": "#00FFF0",
	    "font_family": "JetBrains+Mono"
	},
        "sakura": {
    "background_color": "#FFF5F7",
    "text_color": "#4A1C40",
    "header_background_color": "#D1628C",
    "header_text_color": "#FFFFFF",
    "link_color": "#E88FB0",
    "link_hover_color": "#C96283",
    "button_background_color": "#F4A6C8",
    "button_hover_background_color": "#E88FB0",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#FFB7CE",
    "secondary_button_hover_background_color": "#F4A6C8",
    "secondary_button_text_color": "#4A1C40",
    "message_bubble_color": "#FFE5EC",
    "tbas_color": "#8B3A62",
    "font_size": "17",
    "hover_background_color": "#FFF0F5",
    "hover_text_color": "#4A1C40",
    "icon_color": "#E88FB0",
    "icon_hover_color": "#C96283",
    "answer_background_color": "#FFFAFC",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#FADADD",
    "tab_text_color": "#4A1C40",
    "tab_active_background_color": "#FFC0CB",
    "tab_active_text_color": "#4A1C40",
    "dropdown_text_color": "#4A1C40",
    "dropdown_hover_background_color": "#FADADD",
    "dropdown_hover_text_color": "#4A1C40",
    "nav_link_hover_color": "#FFFFFF",
    "nav_link_hover_bg": "#C96283",
    "pagination_background_color": "#FFE5EC",
    "pagination_text_color": "#4A1C40",
    "font_family": "Noto+Sans"
},
        "nordic": {
    "background_color": "#F8F9FA",
    "text_color": "#2B3E50",
    "header_background_color": "#4A5C6A",
    "header_text_color": "#FFFFFF",
    "link_color": "#5F8AA5",
    "link_hover_color": "#4A5C6A",
    "button_background_color": "#6B8E9F",
    "button_hover_background_color": "#5F8AA5",
    "button_text_color": "#FFFFFF",
    "secondary_button_background_color": "#95A5A6",
    "secondary_button_hover_background_color": "#7F8C8D",
    "secondary_button_text_color": "#FFFFFF",
    "message_bubble_color": "#ECF0F1",
    "tbas_color": "#34495E",
    "font_size": "16",
    "hover_background_color": "#F4F6F7",
    "hover_text_color": "#2B3E50",
    "icon_color": "#5F8AA5",
    "icon_hover_color": "#4A5C6A",
    "answer_background_color": "#FCFDFD",
    "content_background_color": "#FFFFFF",
    "tab_background_color": "#E0E5E8",
    "tab_text_color": "#2B3E50",
    "tab_active_background_color": "#CBD5D8",
    "tab_active_text_color": "#2B3E50",
    "dropdown_text_color": "#2B3E50",
    "dropdown_hover_background_color": "#E0E5E8",
    "dropdown_hover_text_color": "#2B3E50",
    "nav_link_hover_color": "#FFFFFF",
	    "nav_link_hover_bg": "#4A5C6A",
	    "pagination_background_color": "#ECF0F1",
	    "pagination_text_color": "#2B3E50",
	    "font_family": "DM+Sans"
	},
        "old_money": {
            "background_color": "#F5F0E6",
            "text_color": "#1F1A14",
            "header_background_color": "#22312B",
            "header_text_color": "#F7F2E8",
            "link_color": "#2F6B4F",
            "link_hover_color": "#1E4D38",
            "button_background_color": "#B08D57",
            "button_hover_background_color": "#9A7747",
            "button_text_color": "#FAF7F0",
            "secondary_button_background_color": "#2E3A2F",
            "secondary_button_hover_background_color": "#243028",
            "secondary_button_text_color": "#F7F2E8",
            "message_bubble_color": "#DCE8DE",
            "tbas_color": "#1F1A14",
            "yanit_card": "#FFF9F0",
            "font_size": "18",
            "hover_background_color": "#E7DFD2",
            "hover_text_color": "#1F1A14",
            "icon_color": "#22312B",
            "icon_hover_color": "#B08D57",
            "answer_background_color": "#F5F0E6",
            "content_background_color": "#FFF9F0",
            "tab_background_color": "#EFE6D8",
            "tab_text_color": "#1F1A14",
            "tab_active_background_color": "#FFF9F0",
            "tab_active_text_color": "#22312B",
            "dropdown_text_color": "#1F1A14",
            "dropdown_hover_background_color": "#E7DFD2",
            "dropdown_hover_text_color": "#22312B",
            "nav_link_hover_color": "#FAF7F0",
	            "nav_link_hover_bg": "#2B3D35",
	            "pagination_background_color": "#FFF9F0",
	            "pagination_text_color": "#22312B",
	            "font_family": "Crimson+Text"
	        },
	        "the_porcelain": {
	            "background_color": "#F6F3EE",
	            "text_color": "#1C232B",
	            "header_background_color": "#1A2A3A",
	            "header_text_color": "#F6F3EE",
	            "link_color": "#1E6F7A",
	            "link_hover_color": "#16525A",
	            "button_background_color": "#C06B4A",
	            "button_hover_background_color": "#A75C40",
	            "button_text_color": "#F6F3EE",
	            "secondary_button_background_color": "#334155",
	            "secondary_button_hover_background_color": "#1F2937",
	            "secondary_button_text_color": "#F6F3EE",
	            "message_bubble_color": "#E9EEF0",
	            "tbas_color": "#1C232B",
	            "yanit_card": "#FFFFFF",
	            "font_size": "17",
	            "hover_background_color": "#ECE6DD",
	            "hover_text_color": "#1C232B",
	            "icon_color": "#1A2A3A",
	            "icon_hover_color": "#C06B4A",
	            "answer_background_color": "#F6F3EE",
	            "content_background_color": "#FFFFFF",
	            "tab_background_color": "#EFE7DD",
	            "tab_text_color": "#1C232B",
	            "tab_active_background_color": "#FFFFFF",
	            "tab_active_text_color": "#1A2A3A",
	            "dropdown_text_color": "#1C232B",
	            "dropdown_hover_background_color": "#ECE6DD",
	            "dropdown_hover_text_color": "#1A2A3A",
	            "nav_link_hover_color": "#F6F3EE",
	            "nav_link_hover_bg": "#22364A",
	            "pagination_background_color": "#FFFFFF",
	            "pagination_text_color": "#1A2A3A",
	            "font_family": "Inter"
	        },
	        "the_man": {
	            "background_color": "#F2F4F7",
	            "text_color": "#0B0F1A",
	            "header_background_color": "#0B1220",
	            "header_text_color": "#F2F4F7",
	            "link_color": "#1E40AF",
	            "link_hover_color": "#2563EB",
	            "button_background_color": "#B87333",
	            "button_hover_background_color": "#A8652D",
	            "button_text_color": "#0B1220",
	            "secondary_button_background_color": "#334155",
	            "secondary_button_hover_background_color": "#1F2937",
	            "secondary_button_text_color": "#F2F4F7",
	            "message_bubble_color": "#DCE3EC",
	            "tbas_color": "#0B0F1A",
	            "yanit_card": "#FFFFFF",
	            "font_size": "18",
	            "hover_background_color": "#E2E8F0",
	            "hover_text_color": "#0B0F1A",
	            "icon_color": "#0B1220",
	            "icon_hover_color": "#B87333",
	            "answer_background_color": "#F2F4F7",
	            "content_background_color": "#FFFFFF",
	            "tab_background_color": "#E2E8F0",
	            "tab_text_color": "#0B0F1A",
	            "tab_active_background_color": "#FFFFFF",
	            "tab_active_text_color": "#0B1220",
	            "dropdown_text_color": "#0B0F1A",
	            "dropdown_hover_background_color": "#E2E8F0",
	            "dropdown_hover_text_color": "#0B1220",
	            "nav_link_hover_color": "#F2F4F7",
	            "nav_link_hover_bg": "#111827",
	            "pagination_background_color": "#FFFFFF",
	            "pagination_text_color": "#0B1220",
	            "font_family": "Lora"
	        },
        "the_woman": {
            "background_color": "#FBF4F1",
            "text_color": "#241A22",
            "header_background_color": "#3A1D2C",
            "header_text_color": "#FFF7F4",
            "link_color": "#7C2F52",
            "link_hover_color": "#5E2340",
            "button_background_color": "#B88695",
            "button_hover_background_color": "#A57484",
            "button_text_color": "#FFF7F4",
            "secondary_button_background_color": "#2E2430",
            "secondary_button_hover_background_color": "#251C27",
            "secondary_button_text_color": "#FFF7F4",
            "message_bubble_color": "#F1DEE6",
            "tbas_color": "#241A22",
            "yanit_card": "#FFFBFA",
            "font_size": "18",
            "hover_background_color": "#EFE1DC",
            "hover_text_color": "#241A22",
            "icon_color": "#3A1D2C",
            "icon_hover_color": "#B88695",
            "answer_background_color": "#FBF4F1",
            "content_background_color": "#FFFBFA",
            "tab_background_color": "#F6E8E4",
            "tab_text_color": "#241A22",
            "tab_active_background_color": "#FFFBFA",
            "tab_active_text_color": "#3A1D2C",
            "dropdown_text_color": "#241A22",
            "dropdown_hover_background_color": "#EFE1DC",
            "dropdown_hover_text_color": "#3A1D2C",
            "nav_link_hover_color": "#FFF7F4",
            "nav_link_hover_bg": "#4A2337",
            "pagination_background_color": "#FFFBFA",
            "pagination_text_color": "#3A1D2C",
            "font_family": "Cormorant+Garamond"
        },
        "the_2slgbtq_plus": {
            "background_color": "#070A12",
            "text_color": "#F3F6FF",
            "header_background_color": "#0F172A",
            "header_text_color": "#F3F6FF",
            "link_color": "#38BDF8",
            "link_hover_color": "#F472B6",
            "button_background_color": "#A78BFA",
            "button_hover_background_color": "#7C3AED",
            "button_text_color": "#0B0D12",
            "secondary_button_background_color": "#22C55E",
            "secondary_button_hover_background_color": "#16A34A",
            "secondary_button_text_color": "#0B0D12",
            "message_bubble_color": "#111827",
            "tbas_color": "#F3F6FF",
            "yanit_card": "#0B1220",
            "font_size": "17",
            "hover_background_color": "#1F2937",
            "hover_text_color": "#F3F6FF",
            "icon_color": "#A78BFA",
            "icon_hover_color": "#F472B6",
            "answer_background_color": "#070A12",
            "content_background_color": "#0B1220",
            "tab_background_color": "#0F172A",
            "tab_text_color": "#F3F6FF",
            "tab_active_background_color": "#1F2937",
            "tab_active_text_color": "#38BDF8",
            "dropdown_text_color": "#F3F6FF",
            "dropdown_hover_background_color": "#1F2937",
            "dropdown_hover_text_color": "#38BDF8",
            "nav_link_hover_color": "#F3F6FF",
            "nav_link_hover_bg": "#1E293B",
            "pagination_background_color": "#0B1220",
            "pagination_text_color": "#F3F6FF",
            "font_family": "Poppins"
        },
	        "the_philosopher": {
	            "background_color": "#FAFAF9",
	            "text_color": "#1C1917",
	            "header_background_color": "#1C1917",
	            "header_text_color": "#FAFAF9",
	            "link_color": "#B45309",
	            "link_hover_color": "#92400E",
	            "button_background_color": "#B45309",
	            "button_hover_background_color": "#92400E",
	            "button_text_color": "#FAFAF9",
	            "secondary_button_background_color": "#57534E",
	            "secondary_button_hover_background_color": "#44403C",
	            "secondary_button_text_color": "#FAFAF9",
	            "message_bubble_color": "#F5F5F4",
	            "tbas_color": "#1C1917",
	            "yanit_card": "#FFFFFF",
	            "font_size": "18",
	            "hover_background_color": "#F5F5F4",
	            "hover_text_color": "#1C1917",
	            "icon_color": "#1C1917",
	            "icon_hover_color": "#B45309",
	            "answer_background_color": "#FAFAF9",
	            "content_background_color": "#FFFFFF",
	            "tab_background_color": "#F5F5F4",
	            "tab_text_color": "#1C1917",
	            "tab_active_background_color": "#FFFFFF",
	            "tab_active_text_color": "#1C1917",
	            "dropdown_text_color": "#1C1917",
	            "dropdown_hover_background_color": "#F5F5F4",
	            "dropdown_hover_text_color": "#1C1917",
	            "nav_link_hover_color": "#FAFAF9",
	            "nav_link_hover_bg": "#292524",
	            "pagination_background_color": "#FFFFFF",
	            "pagination_text_color": "#1C1917",
	            "font_family": "Cardo"
	        },
        "the_artist": {
            "background_color": "#FFF7ED",
            "text_color": "#111827",
            "header_background_color": "#0F172A",
            "header_text_color": "#FFF7ED",
            "link_color": "#E11D48",
            "link_hover_color": "#2563EB",
            "button_background_color": "#2563EB",
            "button_hover_background_color": "#1D4ED8",
            "button_text_color": "#FFF7ED",
            "secondary_button_background_color": "#16A34A",
            "secondary_button_hover_background_color": "#15803D",
            "secondary_button_text_color": "#FFF7ED",
            "message_bubble_color": "#FEF3C7",
            "tbas_color": "#111827",
            "yanit_card": "#FFFFFF",
            "font_size": "18",
            "hover_background_color": "#FFE4E6",
            "hover_text_color": "#111827",
            "icon_color": "#0F172A",
            "icon_hover_color": "#EAB308",
            "answer_background_color": "#FFF7ED",
            "content_background_color": "#FFFFFF",
            "tab_background_color": "#FEF3C7",
            "tab_text_color": "#111827",
            "tab_active_background_color": "#FFFFFF",
            "tab_active_text_color": "#2563EB",
            "dropdown_text_color": "#111827",
            "dropdown_hover_background_color": "#FEF3C7",
            "dropdown_hover_text_color": "#E11D48",
            "nav_link_hover_color": "#FFF7ED",
            "nav_link_hover_bg": "#1F2937",
            "pagination_background_color": "#FFFFFF",
            "pagination_text_color": "#0F172A",
            "font_family": "Playfair+Display"
        },
        "the_sapiens": {
            "background_color": "#F8F3E7",
            "text_color": "#1F2937",
            "header_background_color": "#7A2E1B",
            "header_text_color": "#FFF7ED",
            "link_color": "#1D4ED8",
            "link_hover_color": "#0EA5E9",
            "button_background_color": "#7A2E1B",
            "button_hover_background_color": "#5B2314",
            "button_text_color": "#FFF7ED",
            "secondary_button_background_color": "#3C4F5A",
            "secondary_button_hover_background_color": "#2B3A42",
            "secondary_button_text_color": "#FFF7ED",
            "message_bubble_color": "#EADCCB",
            "tbas_color": "#1F2937",
            "yanit_card": "#FFFFFF",
            "font_size": "18",
            "hover_background_color": "#F1E4D3",
            "hover_text_color": "#1F2937",
            "icon_color": "#7A2E1B",
            "icon_hover_color": "#1D4ED8",
            "answer_background_color": "#F8F3E7",
            "content_background_color": "#FFFFFF",
            "tab_background_color": "#F1E4D3",
            "tab_text_color": "#1F2937",
            "tab_active_background_color": "#FFFFFF",
            "tab_active_text_color": "#7A2E1B",
            "dropdown_text_color": "#1F2937",
            "dropdown_hover_background_color": "#F1E4D3",
            "dropdown_hover_text_color": "#7A2E1B",
            "nav_link_hover_color": "#FFF7ED",
            "nav_link_hover_bg": "#5B2314",
            "pagination_background_color": "#FFFFFF",
            "pagination_text_color": "#7A2E1B",
            "font_family": "Source+Serif+4"
        },
        "the_animal": {
            "background_color": "#F8EBD2",
            "text_color": "#2D1B0F",
            "header_background_color": "#3B2716",
            "header_text_color": "#FFF7ED",
            "link_color": "#D97706",
            "link_hover_color": "#DC2626",
            "button_background_color": "#D97706",
            "button_hover_background_color": "#B45309",
            "button_text_color": "#FFF7ED",
            "secondary_button_background_color": "#1F2937",
            "secondary_button_hover_background_color": "#111827",
            "secondary_button_text_color": "#FFF7ED",
            "message_bubble_color": "#EBD3AC",
            "tbas_color": "#2D1B0F",
            "yanit_card": "#FFFBF3",
            "font_size": "18",
            "hover_background_color": "#E6C79C",
            "hover_text_color": "#2D1B0F",
            "icon_color": "#3B2716",
            "icon_hover_color": "#D97706",
            "answer_background_color": "#F8EBD2",
            "content_background_color": "#FFFBF3",
            "tab_background_color": "#F1D9B4",
            "tab_text_color": "#2D1B0F",
            "tab_active_background_color": "#FFFBF3",
            "tab_active_text_color": "#3B2716",
            "dropdown_text_color": "#2D1B0F",
            "dropdown_hover_background_color": "#E6C79C",
            "dropdown_hover_text_color": "#3B2716",
            "nav_link_hover_color": "#FFF7ED",
            "nav_link_hover_bg": "#2D1B0F",
            "pagination_background_color": "#FFFBF3",
            "pagination_text_color": "#3B2716",
            "font_family": "Libre+Baskerville"
        },
		        "the_plant": {
		            "background_color": "#F6F7F2",
		            "text_color": "#102A1B",
		            "header_background_color": "#233A2E",
		            "header_text_color": "#F6F7F2",
		            "link_color": "#2F6B3A",
		            "link_hover_color": "#244F2E",
		            "button_background_color": "#4C8B5A",
		            "button_hover_background_color": "#3F784C",
		            "button_text_color": "#F6F7F2",
		            "secondary_button_background_color": "#1F2F26",
		            "secondary_button_hover_background_color": "#17231C",
		            "secondary_button_text_color": "#F6F7F2",
		            "message_bubble_color": "#E4ECE1",
		            "tbas_color": "#102A1B",
		            "yanit_card": "#FFFFFF",
		            "font_size": "18",
		            "hover_background_color": "#E8EEE3",
		            "hover_text_color": "#102A1B",
		            "icon_color": "#233A2E",
		            "icon_hover_color": "#4C8B5A",
		            "answer_background_color": "#F6F7F2",
		            "content_background_color": "#FFFFFF",
		            "tab_background_color": "#E8EEE3",
		            "tab_text_color": "#102A1B",
		            "tab_active_background_color": "#FFFFFF",
		            "tab_active_text_color": "#233A2E",
		            "dropdown_text_color": "#102A1B",
		            "dropdown_hover_background_color": "#E8EEE3",
		            "dropdown_hover_text_color": "#233A2E",
		            "nav_link_hover_color": "#F6F7F2",
		            "nav_link_hover_bg": "#1B2A21",
		            "pagination_background_color": "#FFFFFF",
		            "pagination_text_color": "#233A2E",
		            "font_family": "Spectral"
		        },
		        "the_pastel": {
		            "background_color": "#FBF7FF",
		            "text_color": "#2B2B33",
		            "header_background_color": "#6D5B7B",
		            "header_text_color": "#FBF7FF",
		            "link_color": "#2F7D8C",
		            "link_hover_color": "#C06C84",
		            "button_background_color": "#F2A7A0",
		            "button_hover_background_color": "#E8958E",
		            "button_text_color": "#2B2B33",
		            "secondary_button_background_color": "#A0C4FF",
		            "secondary_button_hover_background_color": "#8FB6F5",
		            "secondary_button_text_color": "#1B2430",
		            "message_bubble_color": "#FFF1F2",
		            "tbas_color": "#2B2B33",
		            "yanit_card": "#FFFFFF",
		            "font_size": "18",
		            "hover_background_color": "#F3F0FF",
		            "hover_text_color": "#2B2B33",
		            "icon_color": "#6D5B7B",
		            "icon_hover_color": "#2F7D8C",
		            "answer_background_color": "#FBF7FF",
		            "content_background_color": "#FFFFFF",
		            "tab_background_color": "#F3F0FF",
		            "tab_text_color": "#2B2B33",
		            "tab_active_background_color": "#FFFFFF",
		            "tab_active_text_color": "#6D5B7B",
		            "dropdown_text_color": "#2B2B33",
		            "dropdown_hover_background_color": "#F3F0FF",
		            "dropdown_hover_text_color": "#6D5B7B",
		            "nav_link_hover_color": "#FBF7FF",
		            "nav_link_hover_bg": "#5B4B66",
		            "pagination_background_color": "#FFFFFF",
		            "pagination_text_color": "#6D5B7B",
		            "font_family": "Nunito"
		        },
	        "the_darkness": {
	            "background_color": "#0B0F14",
	            "text_color": "#D8DEE9",
	            "header_background_color": "#070A10",
	            "header_text_color": "#F9FAFB",
		            "link_color": "#60A5FA",
		            "link_hover_color": "#A78BFA",
		            "button_background_color": "#7C3AED",
		            "button_hover_background_color": "#6D28D9",
		            "button_text_color": "#F9FAFB",
		            "secondary_button_background_color": "#334155",
		            "secondary_button_hover_background_color": "#1F2937",
		            "secondary_button_text_color": "#F9FAFB",
		            "message_bubble_color": "#111827",
		            "tbas_color": "#E5E7EB",
		            "yanit_card": "#0F172A",
		            "font_size": "18",
		            "hover_background_color": "#111827",
		            "hover_text_color": "#F9FAFB",
		            "icon_color": "#A78BFA",
		            "icon_hover_color": "#60A5FA",
		            "answer_background_color": "#0B0F14",
		            "content_background_color": "#0F172A",
		            "tab_background_color": "#111827",
		            "tab_text_color": "#E5E7EB",
		            "tab_active_background_color": "#0F172A",
		            "tab_active_text_color": "#60A5FA",
		            "dropdown_text_color": "#E5E7EB",
		            "dropdown_hover_background_color": "#111827",
		            "dropdown_hover_text_color": "#60A5FA",
		            "nav_link_hover_color": "#F9FAFB",
	            "nav_link_hover_bg": "#111827",
	            "pagination_background_color": "#0F172A",
	            "pagination_text_color": "#E5E7EB",
	            "font_family": "Space+Grotesk"
	        },
	        "the_last": {
	            "background_color": "#0F0D0B",
	            "text_color": "#E6E0D6",
	            "header_background_color": "#0A0908",
	            "header_text_color": "#F2ECE2",
	            "link_color": "#D6A76A",
	            "link_hover_color": "#E9C38C",
	            "button_background_color": "#B98957",
	            "button_hover_background_color": "#A27547",
	            "button_text_color": "#120E0A",
	            "secondary_button_background_color": "#3A332C",
	            "secondary_button_hover_background_color": "#2F2923",
	            "secondary_button_text_color": "#F1E7D9",
	            "message_bubble_color": "#221C16",
	            "tbas_color": "#EADCC8",
	            "yanit_card": "#14110E",
	            "font_size": "18",
	            "hover_background_color": "#1A1612",
	            "hover_text_color": "#F2ECE2",
	            "icon_color": "#C9B79C",
	            "icon_hover_color": "#E2C088",
	            "answer_background_color": "#12100D",
	            "content_background_color": "#14120F",
	            "tab_background_color": "#1A1612",
	            "tab_text_color": "#E6E0D6",
	            "tab_active_background_color": "#14120F",
	            "tab_active_text_color": "#E9C38C",
	            "dropdown_text_color": "#E6E0D6",
	            "dropdown_hover_background_color": "#1A1612",
	            "dropdown_hover_text_color": "#E9C38C",
	            "nav_link_hover_color": "#F2ECE2",
	            "nav_link_hover_bg": "#1E1914",
	            "pagination_background_color": "#14120F",
	            "pagination_text_color": "#E6E0D6",
	            "font_family": "Spectral"
	        },
	        "harpci": {
	            "background_color": "#1A1410",
	            "text_color": "#F3E7D5",
	            "header_background_color": "#2B2F37",
	            "header_text_color": "#F3E7D5",
            "link_color": "#C0841A",
            "link_hover_color": "#DC2626",
            "button_background_color": "#DC2626",
            "button_hover_background_color": "#B91C1C",
            "button_text_color": "#FFF7ED",
            "secondary_button_background_color": "#4B5563",
            "secondary_button_hover_background_color": "#374151",
            "secondary_button_text_color": "#F3E7D5",
            "message_bubble_color": "#2A2018",
            "tbas_color": "#F3E7D5",
            "yanit_card": "#221A14",
            "font_size": "18",
            "hover_background_color": "#32261D",
            "hover_text_color": "#F3E7D5",
            "icon_color": "#C0841A",
            "icon_hover_color": "#F59E0B",
            "answer_background_color": "#1A1410",
            "content_background_color": "#221A14",
            "tab_background_color": "#2A2018",
            "tab_text_color": "#F3E7D5",
            "tab_active_background_color": "#221A14",
            "tab_active_text_color": "#F59E0B",
            "dropdown_text_color": "#F3E7D5",
            "dropdown_hover_background_color": "#32261D",
            "dropdown_hover_text_color": "#F59E0B",
            "nav_link_hover_color": "#FFF7ED",
            "nav_link_hover_bg": "#1F1914",
            "pagination_background_color": "#221A14",
            "pagination_text_color": "#F3E7D5",
            "font_family": "Vollkorn"
        },
	        "ruhban": {
	            "background_color": "#F7F1E8",
	            "text_color": "#1F102A",
	            "header_background_color": "#2A0A2E",
	            "header_text_color": "#F7F1E8",
	            "link_color": "#B8860B",
	            "link_hover_color": "#1D4ED8",
	            "button_background_color": "#B8860B",
	            "button_hover_background_color": "#9A7209",
	            "button_text_color": "#1F102A",
	            "secondary_button_background_color": "#3A1E4C",
	            "secondary_button_hover_background_color": "#2E0650",
	            "secondary_button_text_color": "#F7F1E8",
	            "message_bubble_color": "#EFE7FF",
	            "tbas_color": "#2A0A2E",
	            "yanit_card": "#FFFFFF",
	            "font_size": "18",
	            "hover_background_color": "#F1E6FF",
	            "hover_text_color": "#1F102A",
	            "icon_color": "#2A0A2E",
	            "icon_hover_color": "#B8860B",
	            "answer_background_color": "#F7F1E8",
	            "content_background_color": "#FFFFFF",
	            "tab_background_color": "#F1E6FF",
	            "tab_text_color": "#1F102A",
	            "tab_active_background_color": "#FFFFFF",
	            "tab_active_text_color": "#2A0A2E",
	            "dropdown_text_color": "#1F102A",
	            "dropdown_hover_background_color": "#E7DFFB",
	            "dropdown_hover_text_color": "#2A0A2E",
	            "nav_link_hover_color": "#F7F1E8",
	            "nav_link_hover_bg": "#3A1E4C",
	            "pagination_background_color": "#FFFFFF",
	            "pagination_text_color": "#2A0A2E",
	            "font_family": "Noto+Serif"
	        }
	    };
	    document.addEventListener('DOMContentLoaded', function() {
	        // TEMALAR
	        document.getElementById('theme_select').addEventListener('change', function() {
	            const theme = THEMES[this.value];
	            if (!theme) return;
	            for (const [key, val] of Object.entries(theme)) {
	                // inputlarÄ± doldur
	                let input = document.getElementsByName(key)[0];
	                if (input) {
	                    input.value = val;
	                    // select ise option'u seÃ§
	                    if (input.tagName.toLowerCase() === 'select') {
	                        Array.from(input.options).forEach(opt => {
	                            if (opt.value.replace(/\+/g, ' ') === val || opt.value === val) opt.selected = true;
	                        });
	                    }
	                    // number ise direkt value ata
	                    if (input.type === "number") input.value = parseInt(val);
	                }
	                // canlÄ± olarak siteye uygula
	                const varName = toCssVarName(key);
	                updateColor(varName, normalizeCssVarValue(key, val));
	                if (key === 'font_family') {
	                    const selectedFont = input && input.tagName.toLowerCase() === 'select' ? input.value : val;
	                    ensurePreviewFontLoaded(selectedFont);
	                }
	            }
	        });
	    });
	    </script>
{% endblock %}
